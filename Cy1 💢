--// Services
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local Player = Players.LocalPlayer

--// ScreenGui Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "CY1_GUI"
ScreenGui.ResetOnSpawn = false
ScreenGui.IgnoreGuiInset = true
ScreenGui.Parent = Player:WaitForChild("PlayerGui")

--// Loader Frame
local LoaderFrame = Instance.new("Frame")
LoaderFrame.Size = UDim2.new(1, 0, 1, 0)
LoaderFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
LoaderFrame.BorderSizePixel = 0
LoaderFrame.Parent = ScreenGui

--// Loader Label
local LoaderLabel = Instance.new("TextLabel")
LoaderLabel.AnchorPoint = Vector2.new(0.5, 0.5)
LoaderLabel.Position = UDim2.new(0.5, 0, 0.5, 0)
LoaderLabel.Size = UDim2.new(0, 250, 0, 50)
LoaderLabel.BackgroundTransparency = 1
LoaderLabel.Text = "üí¢ CY1 Loader"
LoaderLabel.Font = Enum.Font.GothamBold
LoaderLabel.TextSize = 32
LoaderLabel.TextColor3 = Color3.fromRGB(0, 200, 255)
LoaderLabel.Parent = LoaderFrame

--// Animated Dots
local Dots = Instance.new("TextLabel")
Dots.AnchorPoint = Vector2.new(0.5, 0)
Dots.Position = UDim2.new(0.5, 0, 0.55, 0)
Dots.Size = UDim2.new(0, 200, 0, 30)
Dots.BackgroundTransparency = 1
Dots.Text = ""
Dots.Font = Enum.Font.Gotham
Dots.TextSize = 24
Dots.TextColor3 = Color3.fromRGB(0, 200, 255)
Dots.Parent = LoaderFrame

--// Animate dots
task.spawn(function()
	while LoaderFrame.Parent do
		for i = 1, 3 do
			Dots.Text = string.rep(".", i)
			task.wait(0.4)
		end
	end
end)

--// MainFrame (hidden until loader fades out)
local MainFrame = Instance.new("Frame")
MainFrame.AnchorPoint = Vector2.new(1, 0)
MainFrame.Position = UDim2.new(1.2, -260, 0, -30)
MainFrame.Size = UDim2.new(0, 250, 0, 350)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.BorderColor3 = Color3.fromRGB(0, 200, 255)
MainFrame.BorderSizePixel = 2
MainFrame.Visible = false
MainFrame.Parent = ScreenGui

local MainCorner = Instance.new("UICorner", MainFrame)
MainCorner.CornerRadius = UDim.new(0, 10)

--// Fade-out transition
task.wait(2.5)
TweenService:Create(LoaderFrame, TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 1}):Play()
TweenService:Create(LoaderLabel, TweenInfo.new(1), {TextTransparency = 1}):Play()
TweenService:Create(Dots, TweenInfo.new(1), {TextTransparency = 1}):Play()

task.wait(1)
LoaderFrame:Destroy()

--// Reveal GUI
MainFrame.Visible = true
TweenService:Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Position = UDim2.new(1, -260, 0, -30)}):Play()--// üí¢ CY1 GUI - Cyan Themed (Part B)
--// Tabs, buttons, toggle button

local TweenService = game:GetService("TweenService")

--// Title
local Title = Instance.new("TextLabel")
Title.Parent = MainFrame
Title.Size = UDim2.new(1,0,0,40)
Title.BackgroundColor3 = Color3.fromRGB(35,35,35)
Title.Text = "üí¢ CY1 GUI"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 20
Title.TextColor3 = Color3.fromRGB(0,200,255)
Instance.new("UICorner", Title).CornerRadius = UDim.new(0,10)

--// Tabs Container
local TabsFrame = Instance.new("Frame")
TabsFrame.Parent = MainFrame
TabsFrame.Position = UDim2.new(0,0,0,45)
TabsFrame.Size = UDim2.new(1,0,0,35)
TabsFrame.BackgroundColor3 = Color3.fromRGB(25,25,25)
TabsFrame.BorderSizePixel = 0

local UIListLayout = Instance.new("UIListLayout", TabsFrame)
UIListLayout.FillDirection = Enum.FillDirection.Horizontal
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

--// Tab creation function
local function createTab(name)
	local TabButton = Instance.new("TextButton")
	TabButton.Size = UDim2.new(0.5,0,1,0)
	TabButton.Text = name
	TabButton.Font = Enum.Font.GothamBold
	TabButton.TextSize = 16
	TabButton.TextColor3 = Color3.fromRGB(255,255,255)
	TabButton.BackgroundColor3 = Color3.fromRGB(30,30,30)
	TabButton.Parent = TabsFrame

	local underline = Instance.new("Frame")
	underline.Size = UDim2.new(1,0,0,2)
	underline.Position = UDim2.new(0,0,1,-2)
	underline.BackgroundColor3 = Color3.fromRGB(0,200,255)
	underline.Visible = false
	underline.Parent = TabButton

	TabButton.MouseEnter:Connect(function()
		if not underline.Visible then
			TweenService:Create(TabButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(40,40,40)}):Play()
		end
	end)
	TabButton.MouseLeave:Connect(function()
		if not underline.Visible then
			TweenService:Create(TabButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(30,30,30)}):Play()
		end
	end)

	return TabButton, underline
end

--// Create Tabs
local ScriptsTab, ScriptsUnderline = createTab("Scripts")
local ToolsTab, ToolsUnderline = createTab("Tools")

--// Content frames
local ScriptsFrame = Instance.new("Frame")
ScriptsFrame.Parent = MainFrame
ScriptsFrame.Position = UDim2.new(0,0,0,80)
ScriptsFrame.Size = UDim2.new(1,0,1,-80)
ScriptsFrame.BackgroundTransparency = 1

local ToolsFrame = ScriptsFrame:Clone()
ToolsFrame.Parent = MainFrame
ToolsFrame.Visible = false

--// Tab switching
local function switchTab(tab)
	if tab == "Scripts" then
		ScriptsFrame.Visible = true
		ToolsFrame.Visible = false
		ScriptsUnderline.Visible = true
		ToolsUnderline.Visible = false
	elseif tab == "Tools" then
		ScriptsFrame.Visible = false
		ToolsFrame.Visible = true
		ScriptsUnderline.Visible = false
		ToolsUnderline.Visible = true
	end
end

ScriptsTab.MouseButton1Click:Connect(function()
	switchTab("Scripts")
end)
ToolsTab.MouseButton1Click:Connect(function()
	switchTab("Tools")
end)
switchTab("Scripts")

--// Button creation function
local function createButton(parent, text, callback)
	local Button = Instance.new("TextButton")
	Button.Size = UDim2.new(1,-20,0,35)
	Button.Position = UDim2.new(0,10,0,0)
	Button.BackgroundColor3 = Color3.fromRGB(35,35,35)
	Button.TextColor3 = Color3.fromRGB(255,255,255)
	Button.Text = text
	Button.Font = Enum.Font.GothamSemibold
	Button.TextSize = 16
	Button.Parent = parent
	Instance.new("UICorner", Button).CornerRadius = UDim.new(0,8)

	Button.MouseEnter:Connect(function()
		TweenService:Create(Button, TweenInfo.new(0.15), {BackgroundColor3 = Color3.fromRGB(0,200,255)}):Play()
	end)
	Button.MouseLeave:Connect(function()
		TweenService:Create(Button, TweenInfo.new(0.15), {BackgroundColor3 = Color3.fromRGB(35,35,35)}):Play()
	end)
	Button.MouseButton1Click:Connect(callback)
end

--// Example Buttons
createButton(ScriptsFrame, "üåÄ Infinite Yield", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
end)
createButton(ScriptsFrame, "üåê Server Hop", function()
	game:GetService("TeleportService"):TeleportToPlaceInstance(game.PlaceId)
end)
createButton(ScriptsFrame, "üß≠ TP Tool", function()
	local tool = Instance.new("Tool")
	tool.RequiresHandle = false
	tool.Name = "TP Tool"
	tool.Activated:Connect(function()
		local mouse = Player:GetMouse()
		Player.Character:MoveTo(mouse.Hit.p)
	end)
	tool.Parent = Player.Backpack
end)

--// Floating Toggle Button
local ToggleButton = Instance.new("TextButton")
ToggleButton.Parent = ScreenGui
ToggleButton.Size = UDim2.new(0,40,0,40)
ToggleButton.Position = UDim2.new(0,10,0.5,-20)
ToggleButton.Text = "üí¢"
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.TextSize = 22
ToggleButton.TextColor3 = Color3.new(1,1,1)
ToggleButton.BackgroundColor3 = Color3.fromRGB(25,25,25)
ToggleButton.BorderColor3 = Color3.fromRGB(0,200,255)
ToggleButton.BorderSizePixel = 2
Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0,10)

local guiVisible = true
local tweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

ToggleButton.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	if guiVisible then
		TweenService:Create(MainFrame, tweenInfo, {Position = UDim2.new(1,-260,0,-30)}):Play()
	else
		TweenService:Create(MainFrame, tweenInfo, {Position = UDim2.new(1.2,-260,0,-30)}):Play()
	end
end)

-- Add padding to buttons inside each page
for _, frame in ipairs({ScriptsFrame, ToolsFrame}) do
	local layout = Instance.new("UIListLayout", frame)
	layout.Padding = UDim.new(0, 8)
	layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
	layout.SortOrder = Enum.SortOrder.LayoutOrder

	local padding = Instance.new("UIPadding", frame)
	padding.PaddingTop = UDim.new(0, 10)
	padding.PaddingLeft = UDim.new(0, 10)
	padding.PaddingRight = UDim.new(0, 10)
end

-- Create subtle drop-shadow behind main frame
local Shadow = Instance.new("ImageLabel", MainFrame)
Shadow.ZIndex = 0
Shadow.BackgroundTransparency = 1
Shadow.Image = "rbxassetid://1316045217"
Shadow.ImageTransparency = 0.8
Shadow.ScaleType = Enum.ScaleType.Slice
Shadow.SliceCenter = Rect.new(10, 10, 118, 118)
Shadow.Size = UDim2.new(1, 30, 1, 30)
Shadow.Position = UDim2.new(0, -15, 0, -15)
Shadow.ImageColor3 = Color3.fromRGB(0, 200, 255)

-- Add smooth appear animation for main frame
MainFrame.Position = UDim2.new(1.2, -300, 0.5, -110)
TweenService:Create(MainFrame, TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
	{Position = UDim2.new(1, -300, 0.5, -110)}):Play()

-- Toggle animation improvement
local guiVisible = true
local tweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
ToggleButton.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	if guiVisible then
		TweenService:Create(MainFrame, tweenInfo, {Position = UDim2.new(1, -300, 0.5, -110)}):Play()
		TweenService:Create(ToggleButton, tweenInfo, {BackgroundColor3 = Color3.fromRGB(25,25,25)}):Play()
	else
		TweenService:Create(MainFrame, tweenInfo, {Position = UDim2.new(1.2, -300, 0.5, -110)}):Play()
		TweenService:Create(ToggleButton, tweenInfo, {BackgroundColor3 = Color3.fromRGB(15,15,15)}):Play()
	end
end)

-- Optional hover glow on toggle button
ToggleButton.MouseEnter:Connect(function()
	if guiVisible then
		TweenService:Create(ToggleButton, TweenInfo.new(0.15), {BackgroundColor3 = Color3.fromRGB(35,35,35)}):Play()
	end
end)
ToggleButton.MouseLeave:Connect(function()
	if guiVisible then
		TweenService:Create(ToggleButton, TweenInfo.new(0.15), {BackgroundColor3 = Color3.fromRGB(25,25,25)}):Play()
	end
end)
